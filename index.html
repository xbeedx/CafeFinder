<!DOCTYPE html>
  <html>
    <head>
      <title>Place Search with Compact Place Details Element</title>
      <meta charset="utf-8">
      <link rel="stylesheet" href="style.css">
    </head>
    <body>
      <div id="map-container"></div>
      <div class="controls">
        <input id="autocomplete-input" type="text" placeholder="Search for a place..." autocomplete="off" />
      </div>
      <div class="list-container">
          <gmp-place-search orientation="vertical" selectable>
              <gmp-place-all-content> </gmp-place-all-content>
              <gmp-place-nearby-search-request
              ></gmp-place-nearby-search-request>
          </gmp-place-search>
      </div>
      <div id="details-container">
          <gmp-place-details-compact orientation="horizontal">
            <gmp-place-details-place-request></gmp-place-details-place-request>
            <gmp-place-all-content></gmp-place-all-content>
          </gmp-place-details-compact>
      </div>
      <script>
        (async () => {
          const apiKey = window.api ? await window.api.getApiKey() : '';
          if (!apiKey) {
            alert('Google Maps API key not found.');
            return;
          }
          const script = document.createElement('script');
          script.type = 'text/javascript';
          script.async = true;
          script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&v=weekly&language=en&region=US&libraries=places,geometry`;
          script.onload = () => {
            const mainScript = document.createElement('script');
            mainScript.type = 'module';
            mainScript.src = './main.js';
            document.body.appendChild(mainScript);
          };
          document.head.appendChild(script);
        })();
      </script>
    </body>
  </html>